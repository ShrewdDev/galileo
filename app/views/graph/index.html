{% extends '../layouts/layout.html' %}
{% block head %} 
  <script src="/js/vis.min.js"></script>
  <link rel="stylesheet" href="/css/vis.min.css">
   <style type="text/css">
     #mynetwork {      
      height: 500px;      
    }
  </style>
{% endblock%}

{% block content %}
<section class="module">
  <form action="/graph" method="get" role="form" novalidate="">
          <div class="row">
        <div class="col-sm-2 col-sm-offset-3">  
            <div class="form-group">
              <select class="form-control" name="survey">  
                {% for survey in surveys %}     
                  <option value="{{loop.index0}}" {% if loop.index0 == surveyIndex %} selected {% endif %}>{{ survey.title }}</option>
                {% endfor %}         
              </select>
            </div>
            </div>
            <div class="col-sm-2">  
            <div class="form-group">
              <select class="form-control" name="item">       
                {% for item in items %}     
                  <option value="{{item.id}}" {% if item.id == itemIndex %} selected {% endif %}>{{ item.value }}</option>
                {% endfor %}                
                </select>
            </div> 
            </div>

            <div class="col-sm-2"> 
            <div class="form-group">
              <select class="form-control" name="workflow">                
                  <option value="global">Global workflow</option>
                  <option value="department" {% if workflow == "department" %} selected {% endif %}>Department workflow</option>
                </select>
            </div>                       
            </div>
            <div class="col-sm-1">  
            <div class="form-group">
              <button class="btn btn-default" type="submit">Go</button>
            </div>            
            </div>            
            </div>
  </form>
  <div class="container" id="mynetwork"> </div>
</section>
<script type="text/javascript">
  var container = document.getElementById('mynetwork');
  var nodes = new vis.DataSet({{JSON.stringify(nodes)}});
  var edges = new vis.DataSet({{JSON.stringify(edges)}});
  
  var data = {
    nodes: nodes,
    edges: edges
  };
  var options = {
    "interaction": {
      "dragNodes": false,
      "dragView": false,
      "selectable": false,
      "zoomView": false
    }, nodes: {
          shape: 'dot'
        }
  }
  var network = new vis.Network(container, data, options);
</script>
{% endblock%}


